/*
 * RC-PICKER COMPONENT STYLES
 * A Date/Time Picker Component CSS
 * Organized by function for clarity.
 */

/* ========================================================================
 * 1. CORE PICKER STRUCTURE AND LAYOUT
 * ======================================================================== */

/* Core Picker Container */
.rc-picker {
  @apply inline-flex;

  &.rc-invalid {
    .rc-picker-input {
      @apply border-destructive ring-destructive/40;
    }
  }
}

/* Right-to-Left (RTL) Support */
.rc-picker-rtl {
  direction: rtl;
}

/* ========================================================================
 * 2. INPUT FIELD, SELECTION, AND CLEAR BUTTON
 * ======================================================================== */

/* Input Field Styling */
.rc-picker-input {
  @apply relative text-(length:--form-font-size) bg-(--form-bg) w-full flex border border-(--form-border-color) rounded-(--form-radius) shadow-(--form-shadow) outline-none;
  padding: 0.5rem var(--form-padding-x);
  height: var(--form-height-outer);

  input {
    @apply outline-none w-full;
  }
}
.rc-picker-rtl .rc-picker-input {
  text-align: right;
}

/* Placeholder Styling */
.rc-picker-input > input::placeholder {
  color: var(--form-placeholder);
  opacity: 1; /* Reset Firefox default opacity */
}
.rc-picker-input > input:placeholder-shown {
  text-overflow: ellipsis;
}
.rc-picker-input-placeholder > input {
  color: var(--form-placeholder);
}
.rc-picker-selection-placeholder {
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
}

/* Clear Button */
.rc-picker-clear {
  inset-inline-end: 5px;

  @apply absolute top-1/2 -translate-y-1/2 px-1 rounded hover:bg-muted inline-flex items-center justify-center;
}
.rc-picker-clear-btn::after {
  content: 'Ã—';
  @apply text-xl relative -top-px text-muted-foreground;
}

/* Multiple Selection/Tags */
.rc-picker-selection-overflow {
  display: flex;
  flex-wrap: wrap;
  box-sizing: border-box;
  width: 100%;
  border: 1px solid green;
  min-height: 1em;
}
.rc-picker-selection-overflow-item {
  flex: none;
  max-width: 100%;
}
.rc-picker-selection-item {
  border: 1px solid blue;
}
.rc-picker-multiple-input {
  width: 10px;
  opacity: 0.1;
}

/* Range Input Active Bar */
.rc-picker-range {
  @apply relative inline-flex gap-1 items-center;
}
.rc-picker-range-wrapper {
  @apply flex;
}
.rc-picker-range .rc-picker-active-bar {
  @apply bg-primary bottom-0 h-[3px] opacity-0 transition-all pointer-events-none;
}
.rc-picker-range.rc-picker-focused .rc-picker-active-bar {
  @apply opacity-100;
}

/* ========================================================================
 * 3. DROPDOWN AND PANEL CONTAINERS
 * ======================================================================== */

/* Dropdown Container */
.rc-picker-dropdown {
  /* Keep dropdown above dialog overlay */
  @apply absolute pointer-events-none z-9999;
}
.rc-picker-dropdown-hidden {
  @apply hidden;
}
.rc-picker-dropdown-rtl {
  direction: rtl;
}
.rc-picker-dropdown-range {
  padding: 10px 0;
}

/* Panel Containers */
.rc-picker-panels {
  @apply flex flex-nowrap gap-4;
}

.rc-picker-panel-container {
  @apply inline-block align-top transition-all ease-in-out shadow-md rounded-md p-1 bg-popover text-popover-foreground;
  pointer-events: all;
}
.rc-picker-panel-layout {
  display: flex;
  flex-wrap: nowrap;
  align-items: stretch;
}
.rc-picker-panel {
  @apply bg-popover align-top;
}
.rc-picker-panel-focused {
  border-color: blue;
}
.rc-picker-panel-rtl {
  direction: rtl;
}
.rc-picker-selector {
  /* @apply w-full; */
}

/* Arrow Styling for Range Dropdowns */
.rc-picker-dropdown .rc-picker-range-arrow {
  position: absolute;
  z-index: 1;
  width: 10px;
  height: 10px;
  transition: all 0.3s;
}
.rc-picker-dropdown .rc-picker-range-arrow::before,
.rc-picker-dropdown .rc-picker-range-arrow::after {
  position: absolute;
  top: 50%;
  inset-inline-start: 50%;
  box-sizing: border-box;
  transform: translate(-50%, -50%);
  content: '';
}
.rc-picker-dropdown-rtl.rc-picker-dropdown .rc-picker-range-arrow::before,
.rc-picker-dropdown-rtl.rc-picker-dropdown .rc-picker-range-arrow::after {
  transform: translate(50%, -50%);
}
.rc-picker-dropdown .rc-picker-range-arrow::before {
  width: 10px;
  height: 10px;
  border: 5px solid white;
  border-color: white white transparent transparent;
}
.rc-picker-dropdown .rc-picker-range-arrow::after {
  width: 8px;
  height: 8px;
  border: 4px solid white;
  border-color: #fff0ff #fff0ff transparent transparent;
}
/* Arrow Placement */
.rc-picker-dropdown-placement-topLeft .rc-picker-range-arrow,
.rc-picker-dropdown-placement-topRight .rc-picker-range-arrow {
  bottom: 6px;
  transform: rotate(135deg);
}
.rc-picker-dropdown-placement-bottomLeft .rc-picker-range-arrow,
.rc-picker-dropdown-placement-bottomRight .rc-picker-range-arrow {
  top: 6px;
  transform: rotate(-45deg);
}

/* ========================================================================
 * 4. HEADER, FOOTER, AND ACTIONS
 * ======================================================================== */

/* Header (Navigation) */
.rc-picker-header {
  @apply flex p-2 border-b mb-2 gap-1;
}
.rc-picker-header > button {
  @apply flex-none size-7 hover:bg-primary hover:text-primary-foreground cursor-pointer rounded;
}
.rc-picker-header-view {
  @apply ml-auto flex-1 flex text-center gap-2 items-center justify-center hover:bg-primary hover:text-primary-foreground cursor-pointer p-1 rounded;
}
.rc-picker-header-view > button {
  @apply cursor-pointer;
}

/* Footer and Presets/Ranges */
.rc-picker-footer,
.rc-picker-picker-footer {
  @apply bg-popover border-t p-1 pt-2 mt-2;
}

.rc-picker-now-btn {
  @apply bg-secondary text-secondary-foreground text-sm p-1.5 rounded-md hover:bg-secondary/80 cursor-pointer inline-block;
}

.rc-picker-presets {
  background: #ccccff;
}
.rc-picker-presets ul,
.rc-picker-ranges {
  margin: 0;
  padding: 0;
  list-style: none;
}
.rc-picker-ranges {
  overflow: hidden;
}
.rc-picker-ranges > li {
  display: inline-block;
}

/* OK Button */
.rc-picker-ok {
  float: right;
}

/* ========================================================================
 * 5. GENERIC CELL STYLING AND STATES
 * ======================================================================== */

/* Table Layout */
.rc-picker-decade-panel table,
.rc-picker-year-panel table,
.rc-picker-month-panel table,
.rc-picker-week-panel table,
.rc-picker-date-panel table,
.rc-picker-time-panel table {
  text-align: center;
  border-collapse: collapse;
}

/* Base Cell Styling */
.rc-picker-cell {
  @apply text-muted-foreground/50;
}
.rc-picker-cell-in-view {
  @apply text-foreground;
}
.rc-picker-cell-disabled {
  @apply opacity-30;
}

/* Inner Cell (Button/Link) */
.rc-picker-cell-inner {
  @apply outline-none inline-flex cursor-pointer text-sm h-8 items-center justify-center  transition-all ease-in-out;
}

/* Interaction and Special States */
.rc-picker-cell-inner:hover {
  @apply bg-primary/20;
}
.rc-picker-cell-hover > .rc-picker-cell-inner {
  @apply bg-primary/20 rounded-md;
}
.rc-picker-cell-selected > .rc-picker-cell-inner {
  @apply bg-primary text-primary-foreground rounded-md;
}
.rc-picker-cell-today > .rc-picker-cell-inner {
  @apply border border-success;
}
.rc-picker-cell-range-start > .rc-picker-cell-inner,
.rc-picker-cell-range-end > .rc-picker-cell-inner {
  @apply bg-primary text-primary-foreground rounded-md;
}

/* ========================================================================
 * 6. RANGE SELECTION VISUALS
 * ======================================================================== */

/* Cell in Range */
.rc-picker-cell-in-range > .rc-picker-cell-inner {
  background: rgba(0, 0, 255, 0.05);
}

/* Range Hover Effects */
.rc-picker-cell-range-hover-start,
.rc-picker-cell-range-hover-end,
.rc-picker-cell-range-hover {
  position: relative;
}
.rc-picker-cell-range-hover-start::after,
.rc-picker-cell-range-hover-end::after,
.rc-picker-cell-range-hover::after {
  position: absolute;
  top: 3px;
  right: 0;
  bottom: 0;
  left: 0;
  border: 1px solid green;
  border-right: 0;
  border-left: 0;
  content: '';
  pointer-events: none;
}
/* Border adjustments for start/end of hover range */
.rc-picker-cell-range-hover-start::after {
  border-left: 1px solid green !important;
}
.rc-picker-cell-range-hover-end::after {
  border-right: 1px solid green !important;
}

/* ========================================================================
 * 7. SPECIFIC PANEL STYLES
 * ======================================================================== */

/* Panel Type Layouts */
.rc-picker-decade-panel,
.rc-picker-year-panel,
.rc-picker-month-panel,
.rc-picker-week-panel,
.rc-picker-date-panel,
.rc-picker-time-panel {
  display: flex;
  flex-direction: column;
}

/* Date Panel Specifics */
.rc-picker-date-panel .rc-picker-cell-inner {
  @apply w-8;
}

/* Year/Month Panel Specifics (Wider cells) */
.rc-picker-year-panel .rc-picker-cell-inner,
.rc-picker-month-panel .rc-picker-cell-inner {
  width: 80px;
}

/* Week Panel Specifics (Smaller cells, different row states) */
.rc-picker-week-panel .rc-picker-cell,
.rc-picker-week-panel .rc-picker-cell-inner {
  width: 20px;
}
.rc-picker-week-panel .rc-picker-cell-week {
  color: var(--muted-foreground);
  font-weight: bold;
  font-size: 12px;
}
.rc-picker-week-panel .rc-picker-cell:hover > .rc-picker-cell-inner,
.rc-picker-week-panel .rc-picker-cell-selected > .rc-picker-cell-inner {
  background: transparent;
}

/* Week Row States (apply to whole row) */
.rc-picker-week-panel-row:hover .rc-picker-cell {
  background: red;
}
.rc-picker-week-panel-row-selected .rc-picker-cell {
  background: rgba(0, 0, 255, 0.3);
}
.rc-picker-week-panel-row-range-hover .rc-picker-cell {
  background: rgba(0, 255, 0, 0.1);
}
.rc-picker-week-panel-row-range-start .rc-picker-cell,
.rc-picker-week-panel-row-range-end .rc-picker-cell {
  background: rgba(0, 255, 0, 0.3);
}

/* ========================================================================
 * 8. TIME PANEL AND DATE/TIME PANEL
 * ======================================================================== */

/* Time Panel Container */
.rc-picker-time-panel {
  width: auto;
}
.rc-picker-time-panel .rc-picker-content {
  position: relative;
  display: flex;
  max-height: 200px;
  direction: ltr;
}
.rc-picker-time-panel-column-title {
  font-size: 14px;
  line-height: 20px;
}

/* Time Column List */
.rc-picker-time-panel-column {
  flex: auto;
  width: 50px;
  margin: 0;
  padding: 0 0 180px;
  overflow-x: hidden;
  overflow-y: hidden;
  font-size: 12px;
  text-align: left;
  list-style: none;
  transition: background 0.3s;
}
.rc-picker-time-panel-column-active {
  background: rgba(0, 0, 255, 0.1);
}
.rc-picker-time-panel-column:hover {
  overflow-y: auto;
}
.rc-picker-time-panel-column > li {
  width: 50px;
  margin: 0;
  padding: 0;
  cursor: pointer;
}

/* Time Column Cell States */
.rc-picker-time-panel-column > li.rc-picker-time-panel-cell-disabled {
  opacity: 0.5;
}
.rc-picker-time-panel-column > li.rc-picker-time-panel-cell-selected {
  background: rgba(0, 0, 255, 0.5);
}
.rc-picker-time-panel-column > li .rc-picker-time-panel-cell-inner {
  display: block;
  width: 100%;
  height: 20px;
  margin: 0;
  color: var(--foreground);
  line-height: 20px;
  text-align: center;
}
.rc-picker-panel-rtl
  .rc-picker-time-panel-column
  > li
  .rc-picker-time-panel-cell-inner {
  padding: 0 12px 0 0;
  text-align: right;
}

/* Combined DateTime Panel */
.rc-picker-datetime-panel {
  display: flex;
}
.rc-picker-datetime-panel .rc-picker-time-panel {
  border-left: 1px solid #999;
}

/* Active Panel Dimming */
.rc-picker-datetime-panel .rc-picker-date-panel,
.rc-picker-datetime-panel .rc-picker-time-panel {
  transition: opacity 0.3s;
}
.rc-picker-datetime-panel-active .rc-picker-date-panel,
.rc-picker-datetime-panel-active .rc-picker-time-panel {
  opacity: 0.3;
}
.rc-picker-datetime-panel-active .rc-picker-date-panel-active,
.rc-picker-datetime-panel-active .rc-picker-time-panel-active {
  opacity: 1;
}

.slide-up-enter,
.slide-up-appear {
  animation-duration: 0.2s;
  animation-fill-mode: both;
  animation-play-state: paused;
}
.slide-up-leave {
  animation-duration: 0.2s;
  animation-fill-mode: both;
  animation-play-state: paused;
}
.slide-up-enter.slide-up-enter-active,
.slide-up-appear.slide-up-appear-active {
  animation-name: antSlideUpIn;
  animation-play-state: running;
}
.slide-up-leave.slide-up-leave-active {
  animation-name: antSlideUpOut;
  animation-play-state: running;
  pointer-events: none;
}
.slide-up-enter,
.slide-up-appear {
  opacity: 0;
  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);
}
.slide-up-leave {
  animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
}
.slide-down-enter,
.slide-down-appear {
  animation-duration: 0.2s;
  animation-fill-mode: both;
  animation-play-state: paused;
}
.slide-down-leave {
  animation-duration: 0.2s;
  animation-fill-mode: both;
  animation-play-state: paused;
}
.slide-down-enter.slide-down-enter-active,
.slide-down-appear.slide-down-appear-active {
  animation-name: antSlideDownIn;
  animation-play-state: running;
}
.slide-down-leave.slide-down-leave-active {
  animation-name: antSlideDownOut;
  animation-play-state: running;
  pointer-events: none;
}
.slide-down-enter,
.slide-down-appear {
  opacity: 0;
  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);
}
.slide-down-leave {
  animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
}
.slide-left-enter,
.slide-left-appear {
  animation-duration: 0.2s;
  animation-fill-mode: both;
  animation-play-state: paused;
}
.slide-left-leave {
  animation-duration: 0.2s;
  animation-fill-mode: both;
  animation-play-state: paused;
}
.slide-left-enter.slide-left-enter-active,
.slide-left-appear.slide-left-appear-active {
  animation-name: antSlideLeftIn;
  animation-play-state: running;
}
.slide-left-leave.slide-left-leave-active {
  animation-name: antSlideLeftOut;
  animation-play-state: running;
  pointer-events: none;
}
.slide-left-enter,
.slide-left-appear {
  opacity: 0;
  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);
}
.slide-left-leave {
  animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
}
.slide-right-enter,
.slide-right-appear {
  animation-duration: 0.2s;
  animation-fill-mode: both;
  animation-play-state: paused;
}
.slide-right-leave {
  animation-duration: 0.2s;
  animation-fill-mode: both;
  animation-play-state: paused;
}
.slide-right-enter.slide-right-enter-active,
.slide-right-appear.slide-right-appear-active {
  animation-name: antSlideRightIn;
  animation-play-state: running;
}
.slide-right-leave.slide-right-leave-active {
  animation-name: antSlideRightOut;
  animation-play-state: running;
  pointer-events: none;
}
.slide-right-enter,
.slide-right-appear {
  opacity: 0;
  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);
}
.slide-right-leave {
  animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
}
@keyframes antSlideUpIn {
  0% {
    transform: scaleY(0.8);
    transform-origin: 0% 0%;
    opacity: 0;
  }
  100% {
    transform: scaleY(1);
    transform-origin: 0% 0%;
    opacity: 1;
  }
}
@keyframes antSlideUpOut {
  0% {
    transform: scaleY(1);
    transform-origin: 0% 0%;
    opacity: 1;
  }
  100% {
    transform: scaleY(0.8);
    transform-origin: 0% 0%;
    opacity: 0;
  }
}
@keyframes antSlideDownIn {
  0% {
    transform: scaleY(0.8);
    transform-origin: 100% 100%;
    opacity: 0;
  }
  100% {
    transform: scaleY(1);
    transform-origin: 100% 100%;
    opacity: 1;
  }
}
@keyframes antSlideDownOut {
  0% {
    transform: scaleY(1);
    transform-origin: 100% 100%;
    opacity: 1;
  }
  100% {
    transform: scaleY(0.8);
    transform-origin: 100% 100%;
    opacity: 0;
  }
}
@keyframes antSlideLeftIn {
  0% {
    transform: scaleX(0.8);
    transform-origin: 0% 0%;
    opacity: 0;
  }
  100% {
    transform: scaleX(1);
    transform-origin: 0% 0%;
    opacity: 1;
  }
}
@keyframes antSlideLeftOut {
  0% {
    transform: scaleX(1);
    transform-origin: 0% 0%;
    opacity: 1;
  }
  100% {
    transform: scaleX(0.8);
    transform-origin: 0% 0%;
    opacity: 0;
  }
}
@keyframes antSlideRightIn {
  0% {
    transform: scaleX(0.8);
    transform-origin: 100% 0%;
    opacity: 0;
  }
  100% {
    transform: scaleX(1);
    transform-origin: 100% 0%;
    opacity: 1;
  }
}
@keyframes antSlideRightOut {
  0% {
    transform: scaleX(1);
    transform-origin: 100% 0%;
    opacity: 1;
  }
  100% {
    transform: scaleX(0.8);
    transform-origin: 100% 0%;
    opacity: 0;
  }
}
